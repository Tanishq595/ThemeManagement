<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body>
    <div class="flex items-center justify-center min-h-screen">
        <div class="bg-white p-8 rounded shadow-md">
            <h2 class="text-2xl mb-4">Login</h2>
            <input
                type="text"
                id="loginId"
                placeholder="ID"
                class="w-full p-2 mb-4 border rounded"
            />
            <input
                type="password"
                id="loginPassword"
                placeholder="Password"
                class="w-full p-2 mb-4 border rounded"
            />
            <button
                id="loginButton"
                class="w-full p-2 bg-blue-500 text-white rounded"
            >
                Login
            </button>
        </div>
    </div>

    <script>
        document.getElementById('loginButton').addEventListener('click', () => {
            const id = document.getElementById('loginId').value;
            const password = document.getElementById('loginPassword').value;

            if (id === 'apple' && password === 'apple') {
                window.location.href = 'admin.html'; // Redirect to admin portal
            } else {
                alert('Invalid credentials');
            }
        });
    </script>
</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Theme Selector</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <h1>Theme Selector</h1>
    <label for="theme">Select Theme:</label>
    <select id="theme"></select>

    <label for="subtheme">Select Subtheme:</label>
    <select id="subtheme" disabled></select>

    <label for="category">Select Category:</label>
    <select id="category" disabled></select>

    <button id="randomNameBtn" disabled>Get Random Name</button>
    <h3 id="randomName"></h3>

    <script>
        let data = [];

        // Fetch data from the server
        axios.get('http://localhost:3000/api/data').then(response => {
            data = response.data;
            populateThemes();
        }).catch(error => {
            console.error('Error fetching data:', error);
            alert('Failed to fetch data. Check console for details.');
        });

        // Populate themes dropdown
        function populateThemes() {
            const themes = new Set(data.map(row => row.Theme).filter(Boolean));
            const themeSelect = document.getElementById('theme');
            themeSelect.innerHTML = '<option value="">Select a theme</option>';
            themes.forEach(theme => {
                themeSelect.innerHTML += `<option value="${theme}">${theme}</option>`;
            });

            themeSelect.addEventListener('change', populateSubthemes);
        }

        // Populate subthemes based on selected theme
        function populateSubthemes() {
            const theme = document.getElementById('theme').value;
            const subthemes = new Set(data
                .filter(row => row.Theme === theme)
                .map(row => row.Subtheme)
                .filter(Boolean)
            );

            const subthemeSelect = document.getElementById('subtheme');
            subthemeSelect.innerHTML = '<option value="">Select a subtheme</option>';
            subthemes.forEach(subtheme => {
                subthemeSelect.innerHTML += `<option value="${subtheme}">${subtheme}</option>`;
            });
            subthemeSelect.disabled = false;

            subthemeSelect.addEventListener('change', populateCategories);
        }

        // Populate categories based on selected subtheme
        function populateCategories() {
            const subtheme = document.getElementById('subtheme').value;
            const categories = new Set(data
                .filter(row => row.Subtheme === subtheme)
                .map(row => row.Category)
                .filter(Boolean)
            );

            const categorySelect = document.getElementById('category');
            categorySelect.innerHTML = '<option value="">Select a category</option>';
            categories.forEach(category => {
                categorySelect.innerHTML += `<option value="${category}">${category}</option>`;
            });
            categorySelect.disabled = false;

            document.getElementById('randomNameBtn').disabled = false;
            document.getElementById('randomNameBtn').addEventListener('click', getRandomName);
        }

        // Get a random name based on selected options
        function getRandomName() {
            const theme = document.getElementById('theme').value;
            const subtheme = document.getElementById('subtheme').value;
            const category = document.getElementById('category').value;

            const filteredNames = data.filter(row => 
                row.Theme === theme && row.Subtheme === subtheme && row.Category === category
            );

            const randomRow = filteredNames[Math.floor(Math.random() * filteredNames.length)];

            document.getElementById('randomName').innerText = randomRow ? randomRow.name : 'No names found';
        }
    </script>
</body>
</html>
